---
id: hybrid-deployments
title: Hybrid Deployments
sidebar_label: Hybrid Deployments
---

## Introduction

Rookout's hybrid SaaS architecture empowers customers to keep all application data within their premise by separating the control plane from the data plane.

Keeping the control plane connected to the Rookout cloud retains all the benefits of SaaS: ease of use, ease of maintenance, live updates, etc.
Keeping the data plane on-premise simplifies data governance concerns and is useful for a variety of security and compliance considerations.

## Architecture

Rookout hybrid architecture relies on two containers to process, store, and access application data:
- The controller acts as a proxy, optimizing network traffic and offloading processing from the monitored applications.
- The datastore is an in-memory cache making the data available for end users over a secure web endpoint.

![Hybrid Architecture](/img/diagrams/hybrid-architecture.png)

### Agents

When using the hybrid architecture, configure your agents to connect to the relevant controllers:

[//]: # (todo add code tabs with a snippet for each language and one for env variables)


import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs
    defaultValue="env"
    values={[
        {label: 'Environment Variable', value: 'env'},
        {label: '.NET', value: 'dotnet'},
        {label: 'Node', value: 'node'},
        {label: 'Go', value: 'go'},
        {label: 'Python', value: 'python'},
        {label: 'Ruby', value: 'ruby'},
    ]}>
    <TabItem value="env">

        ```bash

        export ROOKOUT_CONTROLLER_HOST="wss://controller.host.com"
        export ROOKOUT_CONTROLLER_PORT=9999

        ```
    </TabItem>
    <TabItem value='dotnet'>

        ```bash


        ```
    </TabItem>
    <TabItem value='node'>

        ```javascript

        rookout.start({
            token: '[Your Rookout Token]',
            host: 'wss://controller.host.com',
            port: 9999

        });


        ```
    </TabItem>
    <TabItem value='go'>

        ```golang

        rookout.Start(rookout.RookOptions{
        Token: "[Your Rookout Token]",
        Host: "wss://controller.host.com",
        Port: 9999,

    })
        ```
    </TabItem>
    <TabItem value='python'>

        ```python

        start(token=None,
            host='wss://controller.host.com',
            port=9999)

        ```
    </TabItem>
    <TabItem value='ruby'>

        ```ruby

        ::Rookout.start token: '[Your Rookout Token]', host: 'wss://controller.host.com', port: 9999


        ```
    </TabItem>
</Tabs>

<div className="rookout-org-info" />

Otherwise, agents will connect to the Rookout cloud, but every breakpoint will result in the following error message:

[//]: # (todo add the error message / a screen shot after improving the error's copy)

### Targets

In the hybrid architecture processing and transmitting data to external targets is carried out by the controller.

## Deployment

Deploy using common infrastructure as code providers:

- Helm [chart](https://github.com/Rookout/helm-charts/tree/master/charts/rookout-hybrid) for Kubernetes.
- Terraform [module](https://registry.terraform.io/modules/Rookout/rookout-deployment/aws/latest) for AWS.
- Terraform [module](https://registry.terraform.io/modules/Rookout/rookout-deployment/azure/latest) for Azure.
- CloudFormation [module](https://github.com/Rookout/cloudformation-quick-deployment) for AWS.
